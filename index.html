<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Living the stream dream - Ryan Ramage</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>
		<style type="text/css">
.middle {
	width: 200px;
	margin-left: auto !important;
	margin-right: auto !important;
}

.spinner {
  margin: 100px auto;
  width: 200px;
  height: 200px;
  position: relative;
}

.container1 > div, .container2 > div, .container3 > div {
  width: 60px;
  height: 60px;
  background-color: white;

  border-radius: 100%;
  position: absolute;
  -webkit-animation: bouncedelay 1.2s infinite ease-in-out;
  animation: bouncedelay 1.2s infinite ease-in-out;
  /* Prevent first frame from flickering when animation starts */
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
}

.spinner .spinner-container {
  position: absolute;
  width: 100%;
  height: 100%;
}

.container2 {
  -webkit-transform: rotateZ(45deg);
  transform: rotateZ(45deg);
}

.container3 {
  -webkit-transform: rotateZ(90deg);
  transform: rotateZ(90deg);
}

.circle1 { top: 0; left: 0; }
.circle2 { top: 0; right: 0; }
.circle3 { right: 0; bottom: 0; }
.circle4 { left: 0; bottom: 0; }

.container2 .circle1 {
  -webkit-animation-delay: -1.1s;
  animation-delay: -1.1s;
}

.container3 .circle1 {
  -webkit-animation-delay: -1.0s;
  animation-delay: -1.0s;
}

.container1 .circle2 {
  -webkit-animation-delay: -0.9s;
  animation-delay: -0.9s;
}

.container2 .circle2 {
  -webkit-animation-delay: -0.8s;
  animation-delay: -0.8s;
}

.container3 .circle2 {
  -webkit-animation-delay: -0.7s;
  animation-delay: -0.7s;
}

.container1 .circle3 {
  -webkit-animation-delay: -0.6s;
  animation-delay: -0.6s;
}

.container2 .circle3 {
  -webkit-animation-delay: -0.5s;
  animation-delay: -0.5s;
}

.container3 .circle3 {
  -webkit-animation-delay: -0.4s;
  animation-delay: -0.4s;
}

.container1 .circle4 {
  -webkit-animation-delay: -0.3s;
  animation-delay: -0.3s;
}

.container2 .circle4 {
  -webkit-animation-delay: -0.2s;
  animation-delay: -0.2s;
}

.container3 .circle4 {
  -webkit-animation-delay: -0.1s;
  animation-delay: -0.1s;
}

@-webkit-keyframes bouncedelay {
  0%, 80%, 100% { -webkit-transform: scale(0.0) }
  40% { -webkit-transform: scale(1.0) }
}

@keyframes bouncedelay {
  0%, 80%, 100% {
    transform: scale(0.0);
    -webkit-transform: scale(0.0);
  } 40% {
    transform: scale(1.0);
    -webkit-transform: scale(1.0);
  }
}

.me a {
	color: yellow !important;
}

.complete {
	text-decoration: line-through;
}

.current {
	font-weight: bold !important;
}
		</style>
		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-background-image="images/V06pPLp.gif">
					<h1>Living the Stream Dream</h1>
					<p class="me">
						<small>By <a href="http://github.com/ryanramage">Ryan Ramage</a> / <a href="http://twitter.com/ryan_ramage_">@ryan_ramage_</a></small>
					</p>
					<aside class="notes">
							<li>I am ryan ramage, some may know me as ryan_ramage_ on twitter</li>
							<li>I work at Redman Technologies (formerly with Sean, and with fellow presenter tonight Nick)</li>
							<li>I am a CouchDB committer</li>
							<li>Full stack javascript'r</li>
							<li>I have a firefox phone</li>
							<p>I will talk tonight on 'Living the steam dream'.
							A high level preso on streams, why they are good, and some helpful tools</p>
					</aside>
				</section>

				<section>
					<h2>INTERACTIVE LIVE ACTION DEMO</h2>
					<h5 class="fragment">Just remember:</h5>
					<h3 class="fragment">PEOPLE == DATA</h3>
					<aside class="notes">
						<li>We are going to slow down and magnify a typical request/response session</li>
					  <li>Need three volunteers</li>
					  <li>Browser, Node, DB</li>
					  <li>Small huddle to prepare for non-stream request/response</li>
					</aside>
				</section>


				<section>
					<h3>Typical Search Pattern</h3>
					<div>
					   <label>Search
					   	  <input type="text" />
					   </label>
					</div>

					<aside class="notes">
						<li>Browser is going to request something - "Who is hungry?"</li>
					</aside>
				</section>



				<section  data-transition="zoom">
					<div class="middle">
						<div class="spinner">
						  <div class="spinner-container container1">
						    <div class="circle1"></div>
						    <div class="circle2"></div>
						    <div class="circle3"></div>
						    <div class="circle4"></div>
						  </div>
						  <div class="spinner-container container2">
						    <div class="circle1"></div>
						    <div class="circle2"></div>
						    <div class="circle3"></div>
						    <div class="circle4"></div>
						  </div>
						  <div class="spinner-container container3">
						    <div class="circle1"></div>
						    <div class="circle2"></div>
						    <div class="circle3"></div>
						    <div class="circle4"></div>
						  </div>
						</div>
						 PLEASE WAIT
					</div>
					<aside class="notes">
						<li>While everything is happening, the famous loading icon</li>
						<li>Explain the client who LOVED the loading icon and wanted it BIGGER</li>
						<li>Execute the query, make sure people stay in spots in each area</li>
					</aside>
				</section>

				<section  data-transition="zoom">
				  <h2>Result: ONE BIG TABLE</h2>
					<div class="middle">
					<table>
						<thead>
						<th>thing1</th>
						<th>thing2</th>
						<th>thing3</th>
						</thead>
						<tbody>
							<tr><td>1</td><td>2</td><td>3</td></tr>
							<tr><td>1</td><td>2</td><td>3</td></tr>
							<tr><td>1</td><td>2</td><td>3</td></tr>
							<tr><td>1</td><td>2</td><td>3</td></tr>
							<tr><td>1</td><td>2</td><td>3</td></tr>
							<tr><td>1</td><td>2</td><td>3</td></tr>
							<tr><td>1</td><td>2</td><td>3</td></tr>
							<tr><td>1</td><td>2</td><td>3</td></tr>
						</tbody>
					</table>
					</div>

					<aside class="notes">
						After all that. We have a nice table for the user. They begin to scan it top to bottom.
						Lets try and improve the experience.
					</aside>

				</section>

				<section>
					<h3>Better Search Pattern</h3>
					<div>
					   <label>Search
					   	  <input type="text" />
					   </label>
					</div>
					<div class="middle">
					<table>
						<tbody>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
							<tr class="fragment fade-in"><td>1</td><td>2</td><td>3</td></tr>
						</tbody>
					</table>
					</div>

					<aside class="notes">
						<li>Sit hungry and non hungry people ordered in chairs</li>
						<li>People no longer wait. Have processors fire to next asap</li>
					</aside>

				</section>




				<section>
					<h2>What we learned</h2>
					<ul>
						<li class="fragment">Streaming decrease user idle time. [time]</li>
						<li class="fragment">Streaming can lower memory requirements [space]</li>
					</ul>
					<aside class="notes">
						<li>The user is able to process the information in their brain as soon as it comes.</li>
						<li>We did not have to hold people together. They could leave as soon as ready.</li>
					</aside>

				</section>

				<section>
					<h3>GTSTTUASAP principle</h3>
					<p class="fragment">Get the shituff to the user as fast as possible</p>
					<p class="fragment">Because Speed is King in applications</p>
				</section>

				<section>
					<h3>Streams Are Good Abstractions</h3>
					<p class="fragment">Garden hose</p>
					<p class="fragment">Dealing with disk/network/io/processor variability</p>
					<p  class="fragment">Keep memory spikes down</p>
				</section>


				<section>
					<h1>What is the stream dream?</h1>
					<h3 class="fragment">Streaming support across your stack</h3>
					<ul>
						<li class="fragment">Streaming Transport Level</li>
						<li class="fragment">Streaming Browser Libs</li>
						<li class="fragment">Streaming Middleware</li>
						<li class="fragment">Streaming DB</li>
						<li class="fragment">Streaming Build System (optional)</li>
					</ul>
				</section>



				<section>
					<h1>Streaming Transport Level</h1>
				</section>

				<section>
				  <img src="images/g.png" />
					<aside class="notes">
					  Notice this scenario. Google, the huge, resource heavy bohemoth is blasting data your pidly little phone.
					  Through lots of internet magic, your phone does not just erupt into flames in your hand.
					</aside>
				</section>


				<section>
					<h2>TCP</h2>
					<p>
						The internet was built for streams.

						<div class="fragment">
							<blockquote>
						TCP uses an end-to-end flow control protocol to avoid having the sender send data too fast for the TCP receiver to receive and process it reliably.
							</blockquote>
							<p><em>-</em>Wikipedia
		      			on <a href="http://en.wikipedia.org/wiki/Transmission_Control_Protocol#Flow_control">TCP Flow control</a>
		    			</p>
	    			</div>
					</p>

				</section>




				<section>
					<h1>The Stream Dream?</h1>
					<h3 class="">Streaming support across your stack</h3>
					<ul>
						<li class="complete">Streaming Transport Level</li>
						<li class="current">Streaming Browser Libs</li>
						<li class="">Streaming Middleware</li>
						<li class="">Streaming DB</li>
						<li class="">Streaming Build System (optional)</li>
					</ul>
				</section>


				<section>
					<h2>Oboe.js</h2>
					<p>
						Wrapping xhr with a progressive streaming interface<br>
						A JSON parser that sits somewhere between SAX and DOM.
					</p>
				</section>


				<section>
					<h3>Oboe.js</h3>
					<p>Dealing with failure mid request/response</p>
					<aside class="notes">
						Sarah is sitting on a train using her mobile phone to check her email.
						The phone has almost finished downloading her inbox when her train goes under a tunnel.
						Luckily, her webmail developers used Oboe.js so instead of the request
						failing she can still read most of her emails.
						When the connection comes back again later the webapp is
						smart enough to just re-request the part that failed.
					</aside>
				</section>
				<section>
					<h3>Oboe.js</h3>
					<p>Incremental loading, and browser caching</p>
					<aside class="notes">
						Arnold has a query that is many-dimensional which
						sometimes takes a long time. To speed things up,
						each result can be streamed and displayed as soon as it is found.
						Since Oboe isn't true streaming it plays nice with the
						browser cache.
						Later, Arnold revisits the same query page.
						he see the same results instantly from cache.
					</aside>
				</section>

				<section>
					<h3>Oboe.js</h3>
					<p>Easy JSON slice and dice</p>
					<aside class="notes">
						Oboe.js provides a neat way to route different parts of a json response to different parts
						of his application. One less bit to write.
					</aside>
				</section>




				<section>
<pre class="javascript"><code class="javascript" data-trim>
GET /myapp/things
</code></pre>
<pre class="fragment javascript"><code class="javascript" data-trim>
{
   "foods": [
      {"name":"aubergine",    "colour":"purple"},
      {"name":"apple",        "colour":"red"},
      {"name":"nuts",         "colour":"brown"}
   ],
   "badThings": [
      {"name":"poison",       "colour":"pink"},
      {"name":"broken_glass", "colour":"green"}
   ]
}
</code></pre>
<pre class="fragment javascript"><code class="javascript" data-trim>
MyApp.showSpinner('#foods');

oboe('/myapp/things')
   .node('foods.*', function( foodThing ){
      $.templateThing.append( foodThing.name + ' is ' + foodThing.colour );
   })
   .node('badThings.*', function( badThing ){
      console.log( 'Danger! stay away from ' + badThings.name );
   })
   .done( function(things){
	   	MyApp.hideSpinner('#foods');
      console.log( 'there are ' + things.foods.length + ' things you can eat ' +
                   'and ' + things.nonFoods.length + ' that you shouldn\'t.' );
   });
</code></pre>
				</section>


				<section>
					<h2>Duck Typing</h2>
<pre class="javascript stretch"><code class="javascript" data-trim>
oboe('/myapp/things')
   .node('{name colour}', function( foodObject ) {
      // I'll get called for every object found that
      // has both a name and a colour
   };
</code></pre>
				</section>

				<section>
					<h2>Shoe</h2>
					<p>Streaming between node and the browser</p>
				</section>


				<section>
					<h1>The Stream Dream?</h1>
					<h3 class="">Streaming support across your stack</h3>
					<ul>
						<li class="complete">Streaming Transport Level</li>
						<li class="complete">Streaming Browser Libs</li>
						<li class="current">Streaming Middleware</li>
						<li class="">Streaming DB</li>
						<li class="">Streaming Build System (optional)</li>
					</ul>
				</section>



				<section>
					<h1>nodejs</h1>
					<div class="fragment">
						<blockquote>
							"Streams in node are one of the rare occasions when doing something the fast way is actually easier. SO USE THEM. not since bash has streaming been introduced into a high level language as nicely as it is in node."
						</blockquote>
						<p><em>-</em><a href="http://twitter.com/dominictarr">@dominictarr</a> in
	      			his <a href="https://gist.github.com/2401787">high level node style guide</a>
	    			</p>
    			</div>
				</section>

				<section>
<pre class="javascript stretch"><code class="javascript" data-trim>
var http = require('http');
var fs = require('fs');

var server = http.createServer(function (req, res) {
    fs.readFile(__dirname + '/movie.mp4', function (err, data) {
        res.end(data);
    });
});
server.listen(8000);
</code></pre>
					<h2 class="fragment">BAD</h2>
					<aside class="notes">
						This code works but
						buffers up the entire data.txt file into memory
						for every request before writing the result back to clients.
						If movie.mp4 is very large, your program could start eating a
						lot of memory as it serves lots of users concurrently, particularly for
						users on slow connections
					</aside>
				</section>



				<section>
<pre class="javascript stretch"><code class="javascript" data-trim>
var http = require('http');
var fs = require('fs');

var server = http.createServer(function (req, res) {
    var stream = fs.createReadStream(__dirname + '/movie.mp4');
    stream.pipe(res);
});
server.listen(8000);
</code></pre>
					<h2 class="fragment">Good</h2>
					<aside class="notes">
						Here .pipe() takes care of listening for 'data' and 'end' events
						from the fs.createReadStream().
						This code is not only cleaner, but now the movie.mp4 file will be written to
						clients one chunk at a time immediately as they are received from the disk.

						Using .pipe() has other benefits too,
						like handling backpressure automatically so that node won't buffer
						chunks into memory needlessly when the remote client is on a
						really slow or high-latency connection.
					</aside>
				</section>


				<section>
					<h2>Copy A file</h2>
<pre class="javascript stretch"><code class="javascript" data-trim>
var fs = require("fs");

// Read File
fs.createReadStream("input/people.json")
    // Write File
    .pipe(fs.createWriteStream("output/people.json"));
</code></pre>
				</section>


				<section data-markdown>
					<script type="text/template">
## pipe

All the different types of streams use `.pipe()` to pair inputs with outputs.

`.pipe()` is just a function that takes a readable source stream `src` and hooks
the output to a destination writable stream `dst`:

```
src.pipe(dst)
```
					</script>
				</section>


				<section data-markdown>
					<script type="text/template">

## pipe

``` js
a.pipe(b);
b.pipe(c);
c.pipe(d);
```

`.pipe(dst)` returns `dst` so that you can chain together multiple `.pipe()`
calls together, which is the same as:

``` js
a.pipe(b).pipe(c).pipe(d)
```

This is very much like what you might do on the command-line to pipe programs
together:

```
a | b | c | d
```
					</script>
				</section>


				<section>
					<h2>Un-Gzipping a File</h2>
<pre class="javascript stretch"><code class="javascript" data-trim>
var fs = require("fs");
var zlib = require("zlib");

// Read File
fs.createReadStream("input/people.csv.gz")
    // Un-Gzip
    .pipe(zlib.createGunzip())
    // Write File
    .pipe(fs.createWriteStream("output/people.csv"));
</code></pre>
				</section>


				<section>
					<h2>Node Modules For Streaming</h2>
					<p class="fragment" ><b>Advice:</b> Watch for > 1 year inactivity. <br/>
						 Streams have changed a lot
					</p>
					<div class="fragment">
						<p>Look for trusted names in the stream eco-system</p>
						<ul>
							<li>dominictarr</li>
							<li>substack</li>
							<li>maxogden</li>
							<li>juliangruber</li>
							<li>raynos</li>
						</ul>
					</div>
				</section>

				<section>
					<h2>Node Modules For Streaming</h2>
					<a href="https://github.com/mikeal/request">mikeal/request</a>
					<div class="fragment">
						<p>You can stream any response to a file stream.</p>
						<pre class="javascript stretch"><code class="javascript" data-trim>
	request('http://google.com/doodle.png').pipe(fs.createWriteStream('doodle.png'))
	</code></pre>
					</div>
				</section>

				<section>
					<h2>Node Modules For Streaming</h2>
					<a href="https://github.com/dominictarr/event-stream">dominictarr/event-stream</a>
					<p class="fragment" >The EventStream functions resemble the array functions,
because Streams are like Arrays, but laid out in time, rather than in memory.
					</p>
				</section>

				<section>
					<p>Example of event stream</p>
<pre class="javascript stretch"><code class="javascript" data-trim>
var inspect = require('util').inspect
var es = require('event-stream')    //load event-stream

es.pipe(                            //pipe joins streams together
  process.openStdin(),              //open stdin
  es.split(),                       //split stream to break on newlines
  es.map(function (data, callback) {//turn this async function into a stream
    var j
    try {
      j = JSON.parse(data)          //try to parse input into json
    } catch (err) {
      return callback(null, data)   //if it fails just pass it anyway
    }
    callback(null, inspect(j))      //render it nicely
  }),
  process.stdout                    // pipe it to stdout !
  )


// curl -sS registry.npmjs.org/event-stream | node pretty.js
//
</code></pre>
				</section>

				<section>
					<h2>Stream Adventure</h2>

<pre class="javascript stretch"><code class="javascript" data-trim>
> npm install -g stream-adventure
> stream-adventure
</code></pre>
				<img class="fragment" src="images/stream-adventure.png" />
				</section>


				<section>
					<h1>The Stream Dream?</h1>
					<h3 class="">Streaming support across your stack</h3>
					<ul>
						<li class="complete">Streaming Transport Level</li>
						<li class="complete">Streaming Browser Libs</li>
						<li class="complete">Streaming Middleware</li>
						<li class="current">Streaming DB</li>
						<li class="">Streaming Build System (optional)</li>
					</ul>
				</section>


				<section>
					<h3>CouchDB</h3>
					<img src="images/couch.png" />
					<h6>of course</h6>
				</section>

				<section>
					<h2>Streamable HTTP</h2>
<pre class="javascript "><code class="javascript" data-trim>
    request('http://localhost:5984/db/_design/app/_view/things_by_date').pipe(resp);
</code></pre>
				</section>

				<section>
					<h2>Filter with node!</h2>
<pre class="javascript stretch"><code class="javascript" data-trim>
  var filter = function(data, emit) {
      data.forEach(function(db){
          if (db.indexOf('dumb_user-') === 0) {
              emit('"' +  strip_prefix(db) + '"');
          }
      });
  }
  var filter_through = new FilterThrough(filter);
  request('http://localhost:5984/_all_dbs')
	  .pipe(filter_through)
	  .pipe(resp);
</code></pre>
				</section>

				<section>
					<h4>Continuous Changes</h4>
<pre class="javascript stretch"><code class="javascript" data-trim>
00:00: > curl -X GET "http://localhost:5984/db/_changes?feed=continuous&since=3&filter=app/important"
{"seq":4,"id":"test4","changes":[{"rev":"1-02c6b758b08360abefc383d74ed5973d"}]}
{"seq":5,"id":"test5","changes":[{"rev":"1-02c6b758b08360abefc383d74ed5973d"}]}
</code></pre>

					<aside class="notes">
						Note that the continuous changes API result doesn’t include a wrapping JSON object
						it includes only a raw line per notification.
						Also note that the lines are no longer separated by a comma.
						Note the since, and filter. Ways to slice what you want to watch for
					</aside>
				</section>


				<section>
					<h2>rvagg/node-levelup</h2>
					<img src="images/leveldb.png" />
				</section>


				<section>
					<h2>rvagg/node-levelup</h2>
					<h3>Everything streams</h3>
<pre class="fragment javascript stretch"><code class="javascript" data-trim>
var levelup = require('levelup');
var srcdb = levelup('./srcdb');
var dstdb = levelup('./destdb');

srcdb.put('name', 'LevelUP');

srcdb.createReadStream().pipe(dstdb.createWriteStream()).on('close', onDone)

</code></pre>
				</section>

				<section>
					<h2>rvagg/node-levelup</h2>
					<h3>Start/End keys</h3>
<pre class="fragment javascript stretch"><code class="javascript" data-trim>
srcdb.createReadStream({
	start: 'n',
	end: 'k'
}).pipe(resp)
</code></pre>
				</section>


				<section>
					<h1>The Stream Dream?</h1>
					<h3 class="">Streaming support across your stack</h3>
					<ul>
						<li class="complete">Streaming Transport Level</li>
						<li class="complete">Streaming Browser Libs</li>
						<li class="complete">Streaming Middleware</li>
						<li class="complete">Streaming DB</li>
						<li class="current">Streaming Build System (optional)</li>
					</ul>
				</section>

				<section>
					<h2>Gulp - Streaming builds </h2>
					<p>

					</p>
				</section>
				<section>
					<h2>Sample Gulpfile</h2>
						<div>
							<pre class="javascript stretch">
								<code class="javascript" data-trim>

var scriptFiles = './src/**/*.js';

gulp.task('compile', function(){
  // concat all scripts, minify, and output
  gulp.src(scriptFiles)
    .pipe(concat({fileName: pkg.name+".js"})
    .pipe(minify())
    .pipe(gulp.dest('./dist/'));
});

gulp.task('test', function(){
  // lint our scripts
  gulp.src(scriptFiles).pipe(jshint());

  // run our tests
  spawn('npm', ['test'], {stdio: 'inherit'});
});

gulp.task('default', function(){
  gulp.run('test', 'compile');
  gulp.watch(scriptFiles, function(){
    gulp.run('test', 'compile');
  });
});
								</code>
							</pre>
						</div>
				</section>



				<section>
					<h2>Cons</h2>
					<h5>Because nothing is free</h5>
				</section>


				<section>
					<h4>Might not play well with your 'Framework'</h4>
					<h3 class="fragment">MVC-rap routes and functions</h3>
							<pre class="fragment javascript stretch">
								<code class="javascript" data-trim>
// please provide
class People extends MVCrap {
	getAll()
	getByX()
}
								</code>
							</pre>
				</section>


				<section>
					<h4>much confuse</h4>
					<p class="fragment">
						<b>stream-to-pull-stream:</b> Convert a classic-stream, or a new-stream into a pull-stream
					</p>
					<p class="fragment">
						<b>invert-stream:</b> Create a pair of streams (A, B) such that A.write(X) -> B.emit('data', X) and B.write(X) -> A.emit('data', X)
					</p>
				</section>


				<section>
					<h4>Backpressure and Unbounded Concurrency</h4>
					<div class="fragment">
							<blockquote>
							The Node concurrency model is kind of like a credit card for computing work.
							Credit cards free you from the hassle and risks of carrying cash, (...) unless you spend more than you make.
							Try making 200,000 HTTP client requests in a tight loop, starting each request without waiting for the previous response.
							</blockquote>

	    			</div>

				</section>

				<section>
					<h4>Backpressure and Unbounded Concurrency</h4>
					<div class="fragment">
							<blockquote>
							Once a process can't keep up with its work and starts to get slow,
							this slowness often cascades into other processes in the system.
							Streams are not the solution here. In fact, streams are kind of what gets us into this mess
							in the first place by providing a convenient fire and forget API for an individual
							socket or HTTP request without regard to the health of the rest of the system
							</blockquote>
							<p><em>-</em>
		      			<a href="http://engineering.voxer.com/2013/09/16/backpressure-in-nodejs/">Matt Ranney</a>
		    			</p>
	    			</div>
				</section>

				<section>
					<h2>But the dream lives on...</h2>
					<p>Mix and match:</p>
					<ul>
						<li>Oboe.js</li>
						<li>Node Streams</li>
						<li>CouchDB</li>
						<li>node-LevelDB</li>
						<li>gulp</li>
					</ul>
					<p>Try them out today!</p>
				</section>


				<section data-background-image="images/V06pPLp.gif">
					<h1>THANKS!</h1>
					<h3>Living the Stream Dream</h3>

					<p class="me">
						<small>By <a href="http://github.com/ryanramage">Ryan Ramage</a> / <a href="http://twitter.com/ryan_ramage_">@ryan_ramage_</a></small>
					</p>
				</section>
				<!-- Dont have sections PAST THIS!!! -->

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
